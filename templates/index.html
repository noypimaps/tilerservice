<!DOCTYPE HTML>
<html>

<head>
{% load staticfiles %}
    <meta charset="utf-8" />
    <title>Tile Web Interface</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
    <style>
    #mapid {
        height: 91%;
    }
    
    .ui.massive.menu {
        margin: 0%;
    }
    </style>
</head>

<body>
    <div class="ui massive menu">
        <a class="active item">
	    RASTER TILING SERVICE
	  </a>
        <a class="item">
	    ABOUT
	  </a>
        <a class="item" onClick="showUploadForm();">
	    UPLOAD
	  </a>
        <div class="right menu">
        </div>
    </div>
    <div id="mapid" class="fill"></div>
    <div class="ui modal">
        <div class="header">Raster Upload Form</div>
        <div class="content">
					<form class="ui form" method="post" action="/upload/" enctype="multipart/form-data">
					  {% csrf_token %}
					  <div class="field">
					    <label>Raster Name</label>
					    <input type="text" name="rastername" required>
					  </div>
					  <div class="field">
					    <label>File</label>
					    <input type="file" name="file" required>
					  </div>
					  <div class="field">
					    <label>Color Text</label>
					    <input type="file" name="colorfile" required>
					  </div>
					  <button class="ui button teal" type="submit">Upload</button>
					</form>
        </div>
    </div>
</body>
<script>
function showUploadForm() {
    $('.ui.modal').modal('show');
}
var mymap = L.map('mapid').setView([14, 122], 6);
var OpenStreetMap_HOT = L.tileLayer('http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'
}).addTo(mymap);
L.tileLayer('/tiles/bathymetry/{z}/{x}/{y}.png', {
    maxZoom: 19,
    tms: true,
}).addTo(mymap);
console.log('/tiles/bathymetry/{z}/{x}/{y}.png');
</script>

</html>
